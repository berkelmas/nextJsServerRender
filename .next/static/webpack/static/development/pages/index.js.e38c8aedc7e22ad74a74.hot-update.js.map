{"version":3,"file":"static/webpack/static/development/pages/index.js.e38c8aedc7e22ad74a74.hot-update.js","sources":["webpack:///./components/CardsUst.js"],"sourcesContent":["import React, {Fragment} from 'react';\nimport {Row, Col, Card, CardTitle, CardText, Button,\n        InputGroup, Input, InputGroupAddon, Form, FormGroup} from 'reactstrap';\n\nclass CardsUst extends React.Component {\n  constructor(props){\n    super(props);\n    this.state = {\n      messages: [],\n      input: ''\n    }\n  }\n\n  componentDidMount() {\n    const {firebase} = this.props;\n    const messages = firebase.database().ref('messages/');\n\n    messages.on('value', snapshot => {\n      let liste = [];\n\n      Object.keys(snapshot.val()).map(val => {\n        let data = {};\n        data['id'] = val;\n        data['username'] = snapshot.val()[val]['username'];\n        data['message'] = snapshot.val()[val]['message'];\n        liste.push(data);\n      })\n      this.setState({\n        messages: liste\n      })\n    })\n\n\n    messages.on('child_added', data => {\n      console.log(data);\n    } )\n\n  }\n\n  updateInput = (e) => {\n    this.setState({\n      input: e.target.value\n    })\n  }\n\n  sendMessage = async (e) => {\n    await e.preventDefault();\n    const {firebase} = await this.props;\n    const refer = await firebase.database().ref('messages');\n\n    try {\n      const mesaj = await refer.push({message: this.state.input, username: \"berkelmas\"})\n      this.setState({\n        input : ''\n      })\n    } catch(err) {\n      console.log(err);\n      this.setState({\n        input: ''\n      })\n    }\n  }\n\n\n  render() {\n    return (\n      <Fragment>\n        <Row className=\"mx-auto d-flex justify-content-center pb-5\">\n          <Col sm=\"8\">\n            <Card body>\n              <CardTitle className=\"card-title text-center\">Chat Odasi</CardTitle>\n              {this.state.messages.map(val =>\n                <Card key={val.id} className=\"p-1 mb-2 mt-2 w-50\">\n                  <CardText><strong>@{val.username}</strong> {val.message}</CardText>\n                </Card>\n              )}\n              <Form onSubmit={this.sendMessage}>\n                  <InputGroup className=\"pb-3 pt-3\">\n                    <Input className=\"form-control\" onChange={this.updateInput} value={this.state.input} placeholder=\"Canli Chat'e Hosgeldiniz...\" />\n                  </InputGroup>\n                  <Button type=\"submit\" className=\"w-100 bg-info\" >GÃ¶nder</Button>\n              </Form>\n            </Card>\n          </Col>\n        </Row>\n      </Fragment>\n    )\n  }\n}\n\nexport default CardsUst;\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AAEA;;;;;AACA;AAAA;AACA;AADA;AACA;AAAA;AACA;AAFA;AAmCA;AACA;AADA;AAGA;AACA;AAvCA;AAAA;AAAA;AAAA;AAAA;AAAA;AAwCA;AACA;AADA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AACA;AADA;AAAA;AAEA;AAFA;AAAA;AACA;AADA;AAGA;AAHA;AAAA;AAAA;AAMA;AAAA;AAAA;AACA;AAPA;AAMA;AACA;AAAA;AACA;AADA;AACA;AARA;AAAA;AACA;AADA;AAAA;AAAA;AAWA;AACA;AAAA;AACA;AADA;AACA;AAbA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAzCA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AAFA;AAFA;AAMA;AACA;;;AACA;AAAA;AACA;AADA;AAEA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AADA;AAGA;AAGA;AACA;AACA;AAEA;;;AA2BA;AACA;AAEA;AAAA;AACA;AAAA;AACA;AAAA;AACA;AAAA;AACA;AACA;AAAA;AAAA;AADA;AAKA;AAAA;AACA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAOA;;;;AAnFA;AACA;AAqFA;;;;A","sourceRoot":""}